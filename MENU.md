# Инструкция по меню

Краткая памятка по текущему меню устройства (по состоянию кода `main/app/ui_menu.c`).

## Управление

- **Вход в меню**:
  - удержание кнопки энкодера (`ENC_EVENT_BTN_LONG`);
  - или длинное нажатие кнопки `MODE` на ADC-клавиатуре.
- **Навигация**: вращение энкодера (`CW/CCW`).
- **Подтверждение / вход в пункт**: короткое нажатие энкодера.
- **Назад на уровень выше**: длинное нажатие энкодера.
- **Выход из меню**:
  - длинное нажатие `MODE` (ADC) при открытом меню;
  - или авто-таймаут без действий (10 секунд).

## Общие правила

- При входе меню всегда стартует с корня, первый пункт — `CLCK`.
- Яркость и EQ сохраняются с задержкой (idle-коммит ~2 сек) или сразу при выходе из меню.
- При таймауте меню изменения тоже коммитятся.

## Корневое меню (Root)

- `CLCK` — перейти в режим часов.
- `PLYR` — перейти в режим плеера.
- `BLUE` — перейти в режим Bluetooth.
- `EqUA` — открыть настройку EQ.
- `SEt ` — открыть раздел настроек.

## EQ (`EqUA`)

- Экран показывает:
  - `LoNN` — низкие частоты;
  - `HiNN` — высокие частоты.
- Короткое нажатие переключает между Low/High.
- Поворот меняет значение в диапазоне `0..30`.
- Длинное нажатие — назад в Root.

## Раздел `SEt `

- `CLOC` — вход в режим установки времени.
- `ALr ` — настройки будильника.
- `brIt` — яркость дисплея.
- `InOn` / `InOF` — web-интерфейс (вкл/выкл).
- `POn ` / `POFF` — энергосбережение (вкл/выкл).

## Яркость (`brIt`)

- Отображение формата `bNNN` (проценты 0..100).
- Поворот меняет яркость (внутри 0..255).
- Короткое/длинное нажатие — выход назад в `SEt `.

## Будильник (`ALr `)

Пункты:

- `ALOn` / `ALOF` — включить/выключить будильник.
- `ALt ` — время будильника.
- `ALvL` — громкость будильника.
- `ton ` — выбор тона.
- `rEP ` — количество повторов.
- `AtYP` — тип расписания.

### `ALt ` (время будильника)

- Сначала редактируются часы, затем минуты.
- Короткое нажатие: часы -> минуты -> выход с сохранением.
- Длинное нажатие: выход в список будильника с сохранением.

### `ALvL` (громкость)

- Диапазон `1..30`.
- Поворот меняет значение.
- Короткое/длинное нажатие — назад.

### `rEP ` (повторы)

- Диапазон `1..5`.
- Поворот меняет значение.
- Короткое/длинное нажатие — назад.

### `AtYP` (тип)

- `ONCE` — один раз.
- `5DAY` — по будням.
- `7DAY` — ежедневно.

Поворот циклически переключает варианты.

### `ton ` (тон)

- Формат отображения `tNN`.
- При входе/смене тона запускается предпрослушивание.
- Для предпрослушивания текущее воспроизведение (плеер/BT) ставится на паузу/стоп и затем восстанавливается при выходе.

